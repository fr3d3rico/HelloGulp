define(function(){var a="michel",o=["alert-dismissible","alert-success","alert-danger","alert-warning","alert-info","alert"],t=function(a){$("#"+a).html(""),o.forEach(function(o,t){$("#"+a).removeClass(o)})},n=function(o,t,n){if($("<div id='"+o+"-conteudo'></div>").appendTo("#"+o+a),$("#"+o+"-conteudo").addClass(n),$('<button type="button" class="close" data-dismiss="alert">&times;</button>').appendTo("#"+o+"-conteudo"),s(texto)){$("<ul id='"+o+"-ul'></ul>").appendTo("#"+o+"-conteudo");for(var e in texto)""!==texto[e]&&$("<li><strong>"+texto[e]+"</strong></li>").appendTo("#"+o+"-ul")}else $("<strong>"+texto+"</strong>").appendTo("#"+o+"-conteudo")},e=function(a,o){t(u(o)),n(u(o),a,"alert alert-success alert-dismissible"),$("#"+u(o)).show()},l=function(a,o){t(u(o)),n(u(o),a,"alert alert-danger alert-dismissible"),$("#"+u(o)).show()},c=function(a,o){t(u(o)),n(u(o),a,"alert alert-warning alert-dismissible"),$("#"+u(o)).show()},i=function(a,o){t(u(o)),n(u(o),a,"alert alert-info alert-dismissible"),$("#"+u(o)).show()},r=function(a){$("#"+u(a)).hide()},s=function(a){return a.constructor.toString().indexOf("Array")>-1},u=function(a){return void 0!==a?a:"mensagem"};return{sucesso:e,erro:l,alerta:c,informacao:i,esconder:r}}),define(["mensagem"],function(a){$(document).ajaxStart(function(){Pace.restart()}),$(document).ajaxStop(function(){$(".overlay").hide()}),$(document).ajaxError(function(){$(".overlay").hide()});var o=function(o){"function"==typeof o.callBackBefore&&o.callBackBefore(),$.getJSON(o.url).done(function(a){"function"==typeof o.callback_done&&o.callback_done(a)}).fail(function(t,n,e){"function"==typeof o.callback_fail&&o.callback_fail(t,n,e),a.erro(t.status+" "+t.responseText)}).always(function(){"function"==typeof o.callback_always&&o.callback_always()})},t=function(o){$.ajax({type:"POST",contentType:"application/json;charset=utf-8",url:o.url,dataType:"json",processData:!1,data:JSON.stringify(o.objeto)}).done(function(a){"function"==typeof o.callback_done&&o.callback_done(a)}).fail(function(t,n,e){a.erro(t.status+" "+t.responseText),"function"==typeof o.callback_fail&&o.callback_fail(data)}).always(function(){"function"==typeof o.callback_always&&o.callback_always()})},n=function(o){$.ajax({method:"post",url:o.url,contentType:"application/x-www-form-urlencoded;charset=utf-8",data:$("#"+o.id).serialize()}).done(function(a){"function"==typeof o.callback_done&&o.callback_done(a)}).fail(function(t,n,e){a.erro(t.status+" "+t.responseText),"function"==typeof o.callback_fail&&o.callback_fail(t,n,e)}).always(function(){"function"==typeof o.callback_always&&o.callback_always()})},e=function(a,o){$('<form action="'+a+'" method="'+(o||"post")+'"></form>').appendTo("body").submit().remove()},l=function(a){var o=void 0!==a.form_id?$("#"+a.form_id).serializeArray():null;$("#"+a.id).load(a.url,o,function(o,t,n){"success"==t?"function"==typeof a.callback_done&&a.callback_done():console.log(o)})};return{getJSON:o,postJSON:t,postFormulario:n,download:e,loadFormulario:l}});